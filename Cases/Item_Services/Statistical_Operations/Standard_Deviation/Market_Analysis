from distutils.command import clean
from SMA_Calculation import Running_SMA_Calcuation
from Standard_Deviation import Running_Standard_Deviation

cleaned_data = open("Cleaned_Steam_Data/output.txt", "r")

items = cleaned_data.read().strip()
items = items.split("\n")

values = []

for line in items:
    values.append(float(line.split(",")[1]))

deviations = Running_Standard_Deviation(values)
SMA = Running_SMA_Calcuation(values)

redlineSMA = open("redline.txt","a")


for i in range(len(values)):
    redlineSMA.write(((str(SMA[i] + (SMA[i]*(deviations[i]/100))) +
    "," + str(SMA[i]) + 
    "," + str(SMA[i] - (SMA[i]*(deviations[i]/100))) + "\n")))